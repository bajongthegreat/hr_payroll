var __accumulatedURIPermission={},__deletedURI=[];if($(".form-field-error").hide(),oldURIdata.length>0){var parsedJSON=JSON.parse(oldURIdata);__accumulatedURIPermission=parsedJSON,$.each(parsedJSON,function(s,a){$.isArray(a)===!1&&(a=a.split("|")),text='<span data-uri="'+s+'"> <strong>'+s+"</strong></span>  -  "+a.join(",");var e='<div class="alert alert-success alert-dismissable"><button type="button" class="close remove-uri" data-dismiss="alert" aria-hidden="true">&times;</button>'+text+"</div>";$(".addedURIContainer").append('<div class="col-sm-7">'+e+"</div>")})}$("._checkboxButton").on("click",function(){{var s=$(this).html();$(this).find(".chkbox").val()}$(this).find("span").length>=1?$(this).children("span").remove():$(this).html(s+'  <span class="glyphicon glyphicon-ok"></span>')}),$(document).on("click",".remove-uri",function(){var s=$(this).parent().find("span").data("uri");delete __accumulatedURIPermission[s],__deletedURI.push(s),$("#__deletedURI").val(JSON.stringify(__deletedURI)),$("#formHiddenData").val(JSON.stringify(__accumulatedURIPermission))}),$("#_roles_add_uri").on("click",function(){var s=[],a=$("#uri").val();if($(".chkbox:checked").each(function(){s.push($(this).data("value"))}),__accumulatedURIPermission.hasOwnProperty(a)||""==a){var e=""==a?"Please fill a valid URI":"URI already exists.";return $("#uri").closest('div[class^="form-group"]').addClass("has-warning").focus(),$("#uri").closest('div[class^="form-group"]').find(".form-field-error").html(e).fadeIn(250),!1}if(0==s.length)return $("#uri").closest('div[class^="form-group"]').addClass("has-warning").focus(),$("#__act_permission").closest('div[class^="form-group"]').find(".form-field-error").html("No permissions specified.").fadeIn(250),!1;$("#uri").closest('div[class^="form-group"]').removeClass("has-warning"),$(".form-field-error").fadeOut(250),__accumulatedURIPermission[a]=s,text='<span data-uri="'+a+'"> <strong>'+a+"</strong></span>  -  "+s.join(",");var i='<div class="alert alert-success alert-dismissable"><button type="button" class="close remove-uri" data-dismiss="alert" aria-hidden="true">&times;</button>'+text+"</div>";$(".addedURIContainer").append('<div class="col-sm-7">'+i+"</div>"),$("#formHiddenData").val(JSON.stringify(__accumulatedURIPermission))});